<div class="row">
    <div class="col-md-6 offset-md-3 mt-4">
        <h3>Enregistrement</h3>
        <form [formGroup]="userForm"
              (ngSubmit)="onSubmit()">

            <mat-form-field appearance="standard"
                            color="accent">
                <mat-label for="registerUsername">Nom d'utilisateur*</mat-label>
                <input matInput
                       type="text"
                       name="username"
                       formControlName="username"
                       id="registerUsername"
                       placeholder="Enter username">
                <mat-error *ngIf="usernameCtrl.touched && usernameCtrl.hasError('required')">
                    Le nom d'utilisateur est requis
                </mat-error>
                <mat-error *ngIf="usernameCtrl.touched && usernameCtrl.hasError('minlength')">
                    Le nom d'utilisateur doit faire au moins 3 caractères
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="standard"
                            color="accent">
                <mat-label for="registerEmail">Email*</mat-label>
                <input matInput
                       type="email"
                       name="email"
                       formControlName="email"
                       id="registerEmail"
                       placeholder="Enter Email">
                <mat-error *ngIf="emailCtrl.touched && emailCtrl.hasError('required')">
                    Email is required
                </mat-error>
                <mat-error *ngIf="emailCtrl.touched && emailCtrl.hasError('email')">
                    Email is not valide
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="standard"
                            color="accent">
                <mat-label for="registerPassword">Password*</mat-label>
                <input matInput
                       type="password"
                       name="password"
                       formControlName="password"
                       id="registerPassword">
                <mat-error *ngIf="passwordCtrl.touched && passwordCtrl.hasError('required')">
                    Password is required
                </mat-error>
                <mat-error *ngIf="passwordCtrl.touched && passwordCtrl.hasError('minlength')">
                    Password min is 6
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="standard"
                            color="accent">
                <mat-label for="passwordRepeat">Password confirmation*</mat-label>
                <input matInput
                       type="password"
                       name="passwordRepeat"
                       formControlName="passwordRepeat"
                       id="password_repeat">
                <mat-error *ngIf="passwordRepeatCtrl.touched && passwordRepeatCtrl.hasError('required')">
                    Password confirmation is required
                </mat-error>
                <mat-error *ngIf="passwordRepeatCtrl.touched && passwordRepeatCtrl.hasError('mustMatch')">
                    Passwords must match
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="standard"
                            color="accent">
                <mat-label for="company">Société</mat-label>
                <input matInput
                       type="text"
                       name="company"
                       formControlName="company"
                       id="company">
            </mat-form-field>

            <mat-form-field appearance="standard"
                            color="accent">
                <mat-label for="adress">Adresse</mat-label>
                <input matInput
                       type="text"
                       name="adress"
                       formControlName="adress"
                       id="adress">
            </mat-form-field>

            <mat-form-field appearance="standard"
                            color="accent">
                <mat-label for="adress">Détails de l'adresse</mat-label>
                <input matInput
                       type="text"
                       name="adress_details"
                       formControlName="adress_details">
            </mat-form-field>

            <mat-form-field appearance="standard"
                            color="accent">
                <mat-label for="postal_code">Code postal</mat-label>
                <input matInput
                       type="text"
                       name="postal_code"
                       formControlName="postal_code"
                       id="postal_code">
            </mat-form-field>

            <mat-form-field appearance="standard"
                            color="accent">
                <mat-label for="city">Ville</mat-label>
                <input matInput
                       type="text"
                       name="city"
                       formControlName="city"
                       id="city">
            </mat-form-field>

            <mat-form-field appearance="standard"
                            color="accent">
                <mat-label for="tel">Téléphone</mat-label>
                <input matInput
                       type="text"
                       name="tel"
                       formControlName="tel"
                       id="tel">
            </mat-form-field>

            <mat-form-field appearance="standard">
                <mat-label>Rôle</mat-label>
                <mat-select formControlName="role">
                    <mat-option *ngFor="let role of roles"
                                [value]="role">
                        {{role}}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="roleCtrl.touched && roleCtrl.hasError('required')">
                    Email is incorrect
                </mat-error>
            </mat-form-field>

<!--            TODO Changer la clé -->
            <re-captcha class="mb-3 mt-3"
                formControlName="captcha"
                required
                siteKey="6LcOuyYTAAAAAHTjFuqhA52fmfJ_j5iFk5PsfXaU"
            ></re-captcha>

            <button mat-raised-button
                    color="primary"
                    type="submit"
                    [disabled]="userForm.invalid">S'enregistrer
            </button>
        </form>
    </div>
</div>
